---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import PostCard from "../components/PostCard.astro";
import { getCollection } from "astro:content";

const allPosts = await getCollection("posts");
const recentPosts = allPosts
	.sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
	.slice(0, 3);
---

<Layout title="Blog Personal - Inicio">
	<Header />

	<main>
		<section class="hero">
			<div class="container">
				<div class="hero-two-columns">
					<div class="hero-left">
						<div class="hero-image">
							<div class="placeholder-image">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									viewBox="0 0 200 200"
									fill="none"
								>
									<circle
										cx="100"
										cy="100"
										r="80"
										stroke="currentColor"
										stroke-width="3"></circle>
									<circle
										cx="100"
										cy="80"
										r="30"
										stroke="currentColor"
										stroke-width="3"></circle>
									<path
										d="M 40 160 Q 100 120 160 160"
										stroke="currentColor"
										stroke-width="3"
										fill="none"></path>
								</svg>
							</div>
						</div>

						<div class="hero-text">
							<h1>Raiku</h1>
							<p class="hero-subtitle text-secondary">
								Desarrollador y Entusiasta de la Electr√≥nica
							</p>
							<p class="hero-description">
								Bienvenido a mi espacio personal donde comparto
								mis proyectos de programaci√≥n y electr√≥nica.
								Experimentos con Arduino, ESP32, desarrollo web y todo
								lo que me apasiona en el mundo de la tecnolog√≠a
								en general.
							</p>
						</div>
					</div>

					<div class="hero-right">
						<h2 class="about-title">Sobre m√≠</h2>
						<div class="about-cards">
							<div class="about-card">
								<h3>üíª Programaci√≥n</h3>
							</div>

							<div class="about-card">
								<h3>‚ö° Electr√≥nica</h3>
							</div>

							<div class="about-card">
								<h3>üéØ Motivaci√≥n</h3>
								<p class="text-secondary">
									Cre√© este blog para documentar mi
									aprendizaje y no aburrirme con el c√≥digo.
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section class="recent-posts">
			<div class="container posts-container">
				<div class="section-header">
					<h2>Posts Recientes</h2>
					<a href="/posts" class="view-all link-underline"
						>Ver todos ‚Üí</a
					>
				</div>

				<div class="posts-grid">
					{recentPosts.map((post) => <PostCard post={post} />)}
				</div>
			</div>
		</section>
	</main>

	<Footer />
</Layout>

<style>
	main {
		min-height: calc(100vh - 200px);
	}

	.hero {
		padding: var(--spacing-3xl) 0;
		border-bottom: 3px solid var(--color-text);
		background: linear-gradient(
			to bottom,
			var(--color-bg) 0%,
			var(--color-hover) 100%
		);
	}

	.hero-two-columns {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: var(--spacing-3xl);
		align-items: start;
	}

	.hero-left {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-xl);
	}

	.hero-image {
		width: 220px;
		height: 220px;
		margin: 0 auto;
	}

	.placeholder-image {
		width: 100%;
		height: 100%;
		border: 4px solid var(--color-text);
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		background-color: var(--color-bg);
		box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
	}

	.placeholder-image svg {
		width: 100%;
		height: 100%;
		padding: var(--spacing-lg);
	}

	.hero-text {
		text-align: center;
	}

	.hero-text h1 {
		margin-bottom: var(--spacing-sm);
		font-size: var(--font-size-4xl);
		font-weight: 900;
	}

	.hero-subtitle {
		font-size: var(--font-size-xl);
		margin-bottom: var(--spacing-lg);
		font-weight: 600;
	}

	.hero-description {
		font-size: var(--font-size-base);
		line-height: var(--line-height-relaxed);
	}

	.hero-right {
		padding: var(--spacing-lg);
	}

	.about-title {
		font-size: var(--font-size-3xl);
		font-weight: 800;
		margin-bottom: var(--spacing-xl);
		padding-bottom: var(--spacing-md);
		border-bottom: 4px solid var(--color-text);
	}

	.about-cards {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-lg);
	}

	.about-card {
		padding: var(--spacing-lg);
		background-color: var(--color-bg);
		border: 3px solid var(--color-text);
		border-radius: var(--radius-md);
		transition: all var(--transition-base);
	}

	.about-card:hover {
		transform: translateX(8px);
		box-shadow: -6px 6px 0 var(--color-text);
	}

	.about-card h3 {
		font-size: var(--font-size-lg);
		margin-bottom: var(--spacing-sm);
		font-weight: 700;
	}

	.about-card p {
		font-size: var(--font-size-sm);
		line-height: var(--line-height-relaxed);
		margin: 0;
	}

	.recent-posts {
		padding: var(--spacing-3xl) 0;
		background-color: var(--color-bg);
	}

	.posts-container {
		max-width: 1400px;
	}

	.section-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: var(--spacing-2xl);
		padding-bottom: var(--spacing-md);
		border-bottom: 3px solid var(--color-text);
	}

	.section-header h2 {
		margin: 0;
		font-weight: 800;
	}

	.view-all {
		font-weight: 600;
		font-size: var(--font-size-lg);
	}

	.posts-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(600px, 1fr));
		gap: var(--spacing-lg);
	}

	@media (max-width: 968px) {
		.hero-two-columns {
			grid-template-columns: 1fr;
			gap: var(--spacing-2xl);
		}

		.hero-left {
			text-align: center;
		}

		.hero-right {
			padding: 0;
		}
	}

	@media (max-width: 768px) {
		.hero-text h1 {
			font-size: var(--font-size-3xl);
		}

		.section-header {
			flex-direction: column;
			gap: var(--spacing-md);
			align-items: flex-start;
		}
	}
</style>
