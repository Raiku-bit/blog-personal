---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import PostCard from "../components/PostCard.astro";
import { getCollection } from "astro:content";

const allPosts = await getCollection("posts");
const recentPosts = allPosts
	.sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
	.slice(0, 3);
---

<Layout title="Blog Personal - Inicio">
	<Header />

	<main>
		<section class="hero">
			<div class="container">
				<div class="hero-two-columns">
					<div class="hero-left">
						<div class="hero-image">
							<div class="placeholder-image">
								<img src="/pfp.webp" alt="pfp" />
							</div>
						</div>

						<div class="hero-text">
							<h1>Raiku</h1>
							<p class="hero-subtitle text-secondary">
								Desarrollador y Entusiasta de la Electr√≥nica
							</p>
							<p class="hero-description">
								Bienvenido a mi espacio personal donde comparto
								mis proyectos de programaci√≥n y electr√≥nica.
								Experimentos con Arduino, ESP32, Desarrollo Web
								y todo lo que me apasiona en el mundo de la
								tecnolog√≠a en general.
							</p>
							<div class="redes-sociales">
								<a
									href="https://github.com/Raiku-bit"
									target="_blank"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="40"
										height="40"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="icon icon-tabler icons-tabler-outline icon-tabler-brand-github"
										><path
											stroke="none"
											d="M0 0h24v24H0z"
											fill="none"></path><path
											d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
										></path></svg
									>
									GitHub
								</a>
								<a
									href="https://www.linkedin.com/in/jean-carlos-contreras-485485279/"
									target="_blank"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="40"
										height="40"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"
										><path
											stroke="none"
											d="M0 0h24v24H0z"
											fill="none"></path><path
											d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"
										></path><path d="M8 11l0 5"></path><path
											d="M8 8l0 .01"></path><path
											d="M12 16l0 -5"></path><path
											d="M16 16v-3a2 2 0 0 0 -4 0"
										></path></svg
									>
									LinkedIn
								</a>
							</div>
						</div>
					</div>

					<div class="hero-right">
						<h2 class="about-title">Sobre m√≠</h2>
						<div class="about-cards">
							<div class="about-card">
								<h3>üíª Programaci√≥n</h3>
							</div>

							<div class="about-card">
								<h3>‚ö° Electr√≥nica</h3>
							</div>

							<div class="about-card">
								<h3>üéØ Motivaci√≥n</h3>
								<p class="text-secondary">
									Cre√© este blog para documentar mi
									aprendizaje y no aburrirme con el c√≥digo.
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section class="recent-posts">
			<div class="container posts-container">
				<div class="section-header">
					<h2>Posts Recientes</h2>
					<a href="/posts" class="view-all link-underline"
						>Ver todos ‚Üí</a
					>
				</div>

				<div class="posts-grid">
					{recentPosts.map((post) => <PostCard post={post} />)}
				</div>
			</div>
		</section>
	</main>

	<Footer />
</Layout>

<style>
	main {
		min-height: calc(100vh - 200px);
	}

	.hero {
		padding: var(--spacing-3xl) 0;
		border-bottom: 3px solid var(--color-text);
		background: linear-gradient(
			to bottom,
			var(--color-bg) 0%,
			var(--color-hover) 100%
		);
	}

	.hero-two-columns {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: var(--spacing-3xl);
		align-items: start;
	}

	.hero-left {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-xl);
	}

	.hero-image {
		width: 220px;
		height: 220px;
		margin: 0 auto;
	}

	.placeholder-image {
		display: flex;
		background-color: var(--color-bg);
	}

	.placeholder-image img {
		object-fit: cover;
		border-radius: 50%;
	}

	.hero-text {
		text-align: center;
	}

	.hero-text h1 {
		margin-bottom: var(--spacing-sm);
		font-size: var(--font-size-4xl);
		font-weight: 900;
	}

	.hero-subtitle {
		font-size: var(--font-size-xl);
		margin-bottom: var(--spacing-lg);
		font-weight: 600;
	}

	.hero-description {
		font-size: var(--font-size-base);
		line-height: var(--line-height-relaxed);
	}

	.hero-right {
		padding: var(--spacing-lg);
	}

	.about-title {
		font-size: var(--font-size-3xl);
		font-weight: 800;
		margin-bottom: var(--spacing-xl);
		padding-bottom: var(--spacing-md);
		border-bottom: 4px solid var(--color-text);
	}

	.about-cards {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-lg);
	}

	.about-card {
		padding: var(--spacing-lg);
		background-color: var(--color-bg);
		border: 3px solid var(--color-text);
		border-radius: var(--radius-md);
		transition: all var(--transition-base);
	}

	.about-card:hover {
		transform: translateX(8px);
		box-shadow: -6px 6px 0 var(--color-text);
	}

	.about-card h3 {
		font-size: var(--font-size-lg);
		margin-bottom: var(--spacing-sm);
		font-weight: 700;
	}

	.about-card p {
		font-size: var(--font-size-sm);
		line-height: var(--line-height-relaxed);
		margin: 0;
	}

	.recent-posts {
		padding: var(--spacing-3xl) 0;
		background-color: var(--color-bg);
	}

	.posts-container {
		max-width: 1400px;
	}

	.section-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: var(--spacing-2xl);
		padding-bottom: var(--spacing-md);
		border-bottom: 3px solid var(--color-text);
	}

	.section-header h2 {
		margin: 0;
		font-weight: 800;
	}

	.view-all {
		font-weight: 600;
		font-size: var(--font-size-lg);
	}

	.posts-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(600px, 1fr));
		gap: var(--spacing-lg);
	}

	.redes-sociales {
		display: flex;
		justify-content: center;
		gap: var(--spacing-lg);
		margin-top: var(--spacing-lg);
		font-size: var(--font-size-lg);
		font-weight: 600;
	}

	.redes-sociales a {
		display: flex;
		align-items: center;
		gap: var(--spacing-sm);
		text-decoration: none;
		color: inherit;
		transition: color var(--transition-base);
	}

	@media (max-width: 968px) {
		.hero-two-columns {
			grid-template-columns: 1fr;
			gap: var(--spacing-2xl);
		}

		.hero-left {
			text-align: center;
		}

		.hero-right {
			padding: 0;
		}
	}

	@media (max-width: 768px) {
		.hero-text h1 {
			font-size: var(--font-size-3xl);
		}

		.section-header {
			flex-direction: column;
			gap: var(--spacing-md);
			align-items: flex-start;
		}
	}
</style>
